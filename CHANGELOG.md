# CHANGELOG

## Version 2.3.0 (2025-08-20)

### 🎯 主要な改善
- **Midjourney統合の完全修正**
  - PIAPI v1エンドポイント対応 (`https://api.piapi.ai/api/v1/task`)
  - 正しいx-api-key認証ヘッダーの実装
  - Midjourney v6.1への更新

### ✨ 新機能
- **キャラクター一貫性機能の実装**
  - `--cref` (Character Reference) パラメータによる人物固定
  - `--cw 100` による一貫性強度の最大化
  - 参照画像のアップロード機能
  - 同一人物を全シーンで維持

### 🔧 技術的改善
- **非同期処理の強化**
  - `wait_for_midjourney_completion` による適切なタスク待機
  - タイムアウト処理の実装（300秒）
  - 5秒間隔でのステータスチェック

- **エラーハンドリング**
  - Midjourney失敗時のDALL-E 3へのフォールバック
  - 画像アップロードエラーの適切な処理
  - タスクIDの検証強化

### 🐛 バグ修正
- PIAPIエンドポイントURLの修正
- 認証ヘッダーの形式修正
- キャラクター参照URLの適切な処理

### 📝 ドキュメント
- API設定手順の明確化
- キャラクター一貫性機能の使用方法追加
- トラブルシューティング情報の更新

---

## Version 2.2.0 (2025-08-13)

### ✨ 新機能
- DALL-E 3統合の追加
- 基本的なMidjourney連携
- Streamlit Cloudデプロイ対応

### 🔧 改善
- UI/UXの改善
- エラーメッセージの改善
- パフォーマンスの最適化

---

## Version 2.1.0 (2025-07-01)

### ✨ 新機能
- Hailuo AI統合
- 音楽同期機能
- 複数AI連携（GPT-4、Claude、Gemini）

### 🐛 バグ修正
- 動画生成の安定性向上
- メモリ使用量の最適化

---

## Version 2.0.0 (2025-06-01)

### 🎯 メジャーアップデート
- アーキテクチャの全面刷新
- エージェントベースの設計
- モジュール化の強化

### ✨ 新機能
- 自動台本生成
- キャラクター管理システム
- 高度な動画合成機能

---

## Version 1.0.0 (2025-05-01)

### 🚀 初回リリース
- 基本的なPV生成機能
- シンプルなUI
- ローカル環境対応