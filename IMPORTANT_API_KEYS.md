# 🔐 重要：APIキー管理ドキュメント

## ⚠️ このファイルは絶対に削除しないでください

### 📌 APIキー登録状況
- ✅ **PIAPI メインKEY** - 登録済み（認証用）
- ✅ **PIAPI XKEY** - 登録済み（Midjourney、Hailuo等のサービスアクセス用）
- その他のAPIキー（必要に応じて追加）

### 🔑 Streamlit Cloudでの設定方法

1. **Streamlit Cloudの管理画面**にアクセス
2. **Settings** → **Secrets** を開く
3. 以下の形式でAPIキーを設定：

```toml
# PIAPI統合（最重要）
PIAPI_KEY = "あなたのメインKEY"  # 認証用
PIAPI_XKEY = "あなたのXKEY"      # サービスアクセス用

# オプション（必要に応じて）
OPENAI_API_KEY = "sk-..."
GOOGLE_API_KEY = "..."
ANTHROPIC_API_KEY = "sk-ant-..."
```

### 💾 APIキーの永続化について

**重要な注意事項：**
1. APIキーは**Streamlit Cloudのシークレット**に保存されます
2. コード更新してもAPIキーは**消えません**
3. アプリを再デプロイしても設定は**維持されます**
4. このファイルは**リマインダー**として保管してください

### 🔄 APIキー使用時の確認事項

プログラムを更新する際は必ず：
1. APIキーの読み込み処理を維持
2. `get_secret()`関数を使用
3. セッションステートでのキー管理を継続

### 📋 APIキー関連ファイル

以下のファイルでAPIキーを使用しています：
- `streamlit_app.py` - メインアプリケーション
- `piapi_integration.py` - PIAPI統合
- `.streamlit/secrets.toml.example` - 設定例（実際のキーは含まない）

### ⚡ トラブルシューティング

APIキーエラーが発生した場合：
1. Streamlit Cloudの設定を確認
2. キー名が正しいか確認（PIAPI_KEY, PIAPI_XKEY）
3. アプリを再起動
4. サイドバーで接続状態を確認

### 🛡️ セキュリティ注意事項

- APIキーを**コードに直接書かない**
- GitHubに**プッシュしない**
- **シークレット管理**を使用する
- 定期的にキーを**ローテーション**する

---

## 📝 メモ欄（重要事項を記録）

※ここに重要な設定やメモを追加してください

---

**最終更新日：** 2024年（自動生成）
**このファイルは削除禁止**